{% extends "base.html" %}

{% block title %}Mon équipe - TimeOff{% endblock %}
{% block page_title %}Mon équipe{% endblock %}

{% block content %}
{% if team_members %}
<div class="team-grid">
    {% for member in team_members %}
    <a href="{{ url_for('manager.team_member', user_id=member.id) }}" class="team-card animate-slide-up" style="animation-delay: {{ loop.index * 0.05 }}s;">
        <div class="team-card-header">
            <div class="team-avatar">{{ member.initials }}</div>
            <div class="team-status {% if member.is_active %}active{% else %}inactive{% endif %}"></div>
        </div>
        <div class="team-card-body">
            <h3 class="team-name">{{ member.full_name }}</h3>
            <p class="team-email">{{ member.email }}</p>
        </div>
        <div class="team-card-footer">
            <span class="team-role">{{ member.role.description }}</span>
        </div>
    </a>
    {% endfor %}
</div>
{% else %}
<div class="card-static">
    <div class="empty-state">
        <div class="empty-state-icon">
            <svg width="32" height="32" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
        </div>
        <h3 class="empty-state-title">Aucun membre</h3>
        <p class="empty-state-text">Vous n'avez pas encore de membres dans votre équipe.</p>
    </div>
</div>
{% endif %}

<style>
.team-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--space-6);
}

.team-card {
    background: var(--color-bg-elevated);
    border: var(--border-thick);
    padding: var(--space-5);
    text-decoration: none;
    color: var(--color-ink);
    transition: var(--transition-base);
    display: flex;
    flex-direction: column;
}

.team-card:hover {
    transform: translate(-2px, -2px);
    box-shadow: var(--shadow-md);
    color: var(--color-ink);
}

.team-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-4);
}

.team-avatar {
    width: 56px;
    height: 56px;
    border-radius: var(--radius-full);
    background: var(--color-accent);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: var(--text-lg);
    border: var(--border-thick);
}

.team-status {
    width: 12px;
    height: 12px;
    border-radius: var(--radius-full);
    border: 2px solid var(--color-bg-elevated);
}

.team-status.active {
    background: var(--color-success);
}

.team-status.inactive {
    background: var(--color-ink-subtle);
}

.team-card-body {
    flex: 1;
}

.team-name {
    font-family: var(--font-display);
    font-size: var(--text-xl);
    font-style: italic;
    margin-bottom: var(--space-1);
}

.team-email {
    font-size: var(--text-sm);
    color: var(--color-ink-muted);
}

.team-card-footer {
    margin-top: var(--space-4);
    padding-top: var(--space-4);
    border-top: var(--border-thin);
}

.team-role {
    font-size: var(--text-xs);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-ink-muted);
    font-weight: 600;
}
</style>
{% endblock %}
