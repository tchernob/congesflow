{% extends "base.html" %}

{% block title %}Mot de passe oubli√© - TimeOff{% endblock %}

{% block auth_content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <a href="{{ url_for('auth.login') }}" class="auth-back">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
                Retour √† la connexion
            </a>
            <div class="auth-logo mt-8">
                <img src="{{ url_for('static', filename='images/logo-full.svg') }}" alt="TimeOff" class="logo-full-img">
            </div>
            <h1 class="auth-title">Mot de passe oubli√© ?</h1>
            <p class="auth-subtitle">Entrez votre email pour recevoir un lien de r√©initialisation</p>
        </div>

        <form class="auth-form" method="POST" action="{{ url_for('auth.forgot_password') }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

            <div class="form-group">
                <label class="form-label" for="email">Email</label>
                <input type="email"
                       id="email"
                       name="email"
                       class="form-input"
                       placeholder="votre@email.com"
                       required
                       autofocus>
            </div>

            <button type="submit" class="btn btn-primary btn-lg w-full">
                Envoyer le lien
            </button>
        </form>

        <div class="auth-footer">
            <p class="text-sm text-muted">
                Si vous n'avez pas de compte, contactez votre administrateur RH
            </p>
        </div>
    </div>

    <div class="auth-decoration">
        <div class="decoration-shape shape-1"></div>
        <div class="decoration-shape shape-2"></div>
        <div class="decoration-shape shape-3"></div>
        <div class="decoration-text">
            <span class="decoration-emoji">üîê</span>
            <h2>S√©curit√© avant tout</h2>
            <p>Un lien s√©curis√© vous sera envoy√© par email</p>
        </div>
    </div>
</div>

<style>
.auth-container {
    min-height: 100vh;
    display: grid;
    grid-template-columns: 1fr 1fr;
    background: var(--color-bg);
}

.auth-card {
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: var(--space-12);
    max-width: 480px;
    margin: 0 auto;
}

.auth-back {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    color: var(--color-ink-muted);
    font-size: var(--text-sm);
    font-weight: 500;
}

.auth-back:hover {
    color: var(--color-ink);
}

.auth-header {
    margin-bottom: var(--space-10);
}

.auth-logo {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-8);
}

.auth-title {
    font-family: var(--font-display);
    font-size: var(--text-4xl);
    font-style: italic;
    margin-bottom: var(--space-2);
}

.auth-subtitle {
    color: var(--color-ink-muted);
    font-size: var(--text-lg);
}

.auth-form {
    margin-bottom: var(--space-8);
}

.auth-form .form-group {
    margin-bottom: var(--space-6);
}

.auth-footer {
    text-align: center;
}

.auth-decoration {
    background: var(--color-ink);
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}

.decoration-shape {
    position: absolute;
    border: 3px solid rgba(255, 255, 255, 0.1);
}

.shape-1 {
    width: 400px;
    height: 400px;
    top: -100px;
    right: -100px;
    border-radius: 50%;
}

.shape-2 {
    width: 300px;
    height: 300px;
    bottom: -50px;
    left: -50px;
    transform: rotate(45deg);
}

.shape-3 {
    width: 200px;
    height: 200px;
    top: 50%;
    left: 30%;
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
}

.decoration-text {
    position: relative;
    z-index: 1;
    text-align: center;
    color: white;
    padding: var(--space-8);
    max-width: 400px;
}

.decoration-emoji {
    font-size: 80px;
    display: block;
    margin-bottom: var(--space-6);
}

.decoration-text h2 {
    font-family: var(--font-display);
    font-size: var(--text-3xl);
    font-style: italic;
    margin-bottom: var(--space-4);
}

.decoration-text p {
    opacity: 0.7;
    font-size: var(--text-lg);
}

@media (max-width: 1024px) {
    .auth-container {
        grid-template-columns: 1fr;
    }

    .auth-decoration {
        display: none;
    }

    .auth-card {
        padding: var(--space-6);
    }
}
</style>
{% endblock %}
